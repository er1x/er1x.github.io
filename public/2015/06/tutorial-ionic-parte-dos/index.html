<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="En el anterior post vimos cómo iniciar una App con Ionic Framework. En ese post creamos un esqueleto para una aplicación que obtuviera un listado de eventos.Ahora vamos a crear un backend en Node.js q"><meta name="keywords" content="nodejs,cordova,ionic,angularjs"><meta property="og:type" content="article"><meta property="og:title" content="Tutorial Ionic Framework - Parte 2: Backend en Node.js"><meta property="og:url" content="https://github.com/er1x/2015/06/tutorial-ionic-parte-dos/index.html"><meta property="og:site_name" content="Emilio J. Grande | Web Developer"><meta property="og:description" content="En el anterior post vimos cómo iniciar una App con Ionic Framework. En ese post creamos un esqueleto para una aplicación que obtuviera un listado de eventos.Ahora vamos a crear un backend en Node.js q"><meta property="og:locale" content="default"><meta property="og:image" content="https://github.com/images/2015-06/ionic.png"><meta property="og:image" content="https://github.com/images/2015-06/callback.png"><meta property="og:updated_time" content="2017-03-11T12:54:27.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Tutorial Ionic Framework - Parte 2: Backend en Node.js"><meta name="twitter:description" content="En el anterior post vimos cómo iniciar una App con Ionic Framework. En ese post creamos un esqueleto para una aplicación que obtuviera un listado de eventos.Ahora vamos a crear un backend en Node.js q"><meta name="twitter:image" content="https://github.com/images/2015-06/ionic.png"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><title>Tutorial Ionic Framework - Parte 2: Backend en Node.js</title></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" style="display:none"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archives">Writing</a></li><li><a href="/projects">Projects</a></li><li><a href="/about">About</a></li><li><a href="/contact">Contact</a></li></ul></span><br><div id="toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Autenticacion-por-Token"><span class="toc-number">1.</span> <span class="toc-text">Autenticación por Token</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Configurar-la-autenticacion-con-Twitter"><span class="toc-number">2.</span> <span class="toc-text">Configurar la autenticación con Twitter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Codigo-del-backend"><span class="toc-number">3.</span> <span class="toc-text">Código del backend</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ruta-auth-twitter"><span class="toc-number">4.</span> <span class="toc-text">Ruta /auth/twitter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ruta-events"><span class="toc-number">5.</span> <span class="toc-text">Ruta /events</span></a></li></ol></div></span></div><div class="content index width mx-auto px2 my4"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Tutorial Ionic Framework - Parte 2: Backend en Node.js</h1><div class="meta"><span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Emilio J. Grande | Web Developer</span></span><div class="postdate">&nbsp;<time datetime="2015-06-28T17:51:00.000Z" itemprop="datePublished">28-06-2015</time></div><div class="article-tag"><i class="fa fa-tag"></i> <a class="tag-link" href="/tags/angularjs/">angularjs</a>, <a class="tag-link" href="/tags/cordova/">cordova</a>, <a class="tag-link" href="/tags/ionic/">ionic</a>, <a class="tag-link" href="/tags/nodejs/">nodejs</a></div></div></header><div class="content" itemprop="articleBody"><p><img src="/images/2015-06/ionic.png" alt="ionic"></p><p>En el <a href="/2015/06/tutorial-ionic-parte-uno/">anterior post</a> vimos cómo iniciar una App con Ionic Framework. En ese post creamos un esqueleto para una aplicación que obtuviera un listado de eventos.</p><p>Ahora vamos a crear un <strong>backend en Node.js</strong> que permita:</p><ul><li><strong>Autenticarse utilizando Twitter</strong>.</li><li><strong>Obtener un listado de eventos</strong>. Sólo si el usuario está autenticado.</li></ul><p>Empieza descargando el código de GitHub.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> https://github.com/er1x/events-backend</div><div class="line"><span class="built_in">cd</span> events-backend</div><div class="line">npm install</div></pre></td></tr></table></figure><p>Si intentas arrancarlo (<em>node server.js</em>), verás que suelta una excepción, y es que para que funcione <strong>es necesario registrar una App en Twitter</strong> y obtener una clave para la misma. Esta clave está en un fichero llamado <em>.secret.json</em> y no está en git. Luego veremos cómo crearlo.</p><h2 id="Autenticacion-por-Token"><a href="#Autenticacion-por-Token" class="headerlink" title="Autenticación por Token"></a>Autenticación por Token</h2><p>La autenticación por token consiste en que en la aplicación cliente se almacena una cadena cifrada con la información del usuario. Cuando el cliente realiza una petición al servidor acompaña este token cifrado.</p><p>El servidor sabe descifrar ese token y con él identificar al usuario. Difiere en la clásica identificación por cookie o sesión en que el servidor no guarda una megacaché con todos los datos de sesión, y por tanto, escala mejor. Además si la aplicación no es web no tiene sentido hablar de cookies.</p><p>En este caso lo que vamos a hacer es crear una autenticación por token en nuestra aplicación mediante un <strong><a href="https://github.com/sahat/satellizer">plugin de AngularJS llamado Satellizer</a></strong>. Este plugin soporta varios tipos de autenticación, entre ellas mediante Twitter.</p><h2 id="Configurar-la-autenticacion-con-Twitter"><a href="#Configurar-la-autenticacion-con-Twitter" class="headerlink" title="Configurar la autenticación con Twitter"></a>Configurar la autenticación con Twitter</h2><p>Para que el backend funcione necesitas una clave de aplicación válida de Twitter, y para ello tienes que registrar una App. Es sencillo.</p><ul><li>Ve a <a href="https://apps.twitter.com/" target="_blank" rel="external">https://apps.twitter.com/</a>. Tienes que tener una cuenta de Twitter. Si no la tienes créala :P</li><li>Pulsa en <strong>Create new App</strong> y rellena el nombre, la descripción y una web (yo he puesto la de Github ya que es una prueba).</li><li><p>Cuando Twitter cree la App ve a la pestaña de settings y rellena la <strong>Callback URL</strong>. <strong>Fíjate bien en este paso porque es crítico</strong>: cuando el proceso de autorización termine, Twitter retorna al usuario a la URL que pongas aquí.</p><p>Aquí nos surge un problema, y es que mientras desarrollamos la aplicación queremos que Twitter nos redirija al servidor de pruebas y cuando la tengamos lista queremos que retorne a la URL de Cordova. Por tanto tenemos dos configuraciones posibles:</p></li></ul><ul><li>Desarrollo (aplicacíon web): IP y puerto locales del servidor de desarrollo de Ionic. En mi caso es <a href="http://192.168.0.100:8100" target="_blank" rel="external">http://192.168.0.100:8100</a> . En el tuyo dependerá de tu configuración, si prefieres usar localhost etc.</li><li>Producción (url App Cordova): <a href="http://127.0.0.1/" target="_blank" rel="external">http://127.0.0.1/</a></li></ul><p><img src="/images/2015-06/callback.png" alt="config-twitter"></p><ul><li>Por último vete a la pestaña de <strong>Keys and Access Tokens</strong> y <strong>cópiate la API Key y la API Secret</strong>.</li></ul><p>Una vez tengas las claves es hora de crear el fichero <em>.secret.json</em>, que tendrá esta pinta:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"TWITTER_KEY"</span>: <span class="string">"XXXXXXXXXXXXXXXXXXXX"</span>,</div><div class="line">  <span class="attr">"TWITTER_SECRET"</span>: <span class="string">"XXXXXXXXXXXXXXXXXXX"</span>,</div><div class="line">  <span class="attr">"TOKEN_SECRET"</span>: <span class="string">"aquiponesloquequieras"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><p>Los campos <em>Twiter-</em> son la clave de aplicación y secreta de Twitter y TOKEN-SECRET es la clave con la que cifraremos el token final que utilizaremos para autenticar al usuario.</p><p><strong>Es importante que utilices un Token complejo y que sea secreto</strong>, pues de otro modo se podrían descifrar los datos del usuario.</p><p>Veamos ahora el código del backend.</p><h2 id="Codigo-del-backend"><a href="#Codigo-del-backend" class="headerlink" title="Código del backend"></a>Código del backend</h2><p>El backend es un solo fichero muy sencillito. <strong>Está escrito en Node.js y utiliza el framework <a href="http://expressjs.com/es/" target="_blank" rel="external">Express</a></strong>.</p><p>Lo que hace es:</p><ul><li>Importar dependencias.</li><li>Importar la clave secreta del fichero .secret.json.</li><li>Crear la aplicación express, y utilizar los middleware bodyparser (para parsear parámetros) y cors (para permitir peticiones de otros dominios).</li><li>Definir una función para crear el token de autenticación. Ésta función <a href="https://carlosazaustre.es/blog/autenticacion-con-token-en-node-js/" target="_blank" rel="external">está tomada de este estupendo post</a>.</li><li>Definir un par de rutas, una para autenticar al usuario y otra para devolver un listado con eventos.</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> express    = <span class="built_in">require</span>(<span class="string">'express'</span>);</div><div class="line"><span class="keyword">var</span> bodyParser = <span class="built_in">require</span>(<span class="string">'body-parser'</span>);</div><div class="line"><span class="keyword">var</span> cors       = <span class="built_in">require</span>(<span class="string">'cors'</span>);</div><div class="line"><span class="keyword">var</span> qs         = <span class="built_in">require</span>(<span class="string">'querystring'</span>);</div><div class="line"><span class="keyword">var</span> moment     = <span class="built_in">require</span>(<span class="string">'moment'</span>);</div><div class="line"><span class="keyword">var</span> jwt        = <span class="built_in">require</span>(<span class="string">'jwt-simple'</span>);</div><div class="line"><span class="keyword">var</span> request    = <span class="built_in">require</span>(<span class="string">'request'</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> config = <span class="built_in">require</span>(<span class="string">'./.secret.json'</span>);</div><div class="line"><span class="keyword">var</span> app = express();</div><div class="line"></div><div class="line">app.use(cors());</div><div class="line">app.use(bodyParser.urlencoded(&#123;<span class="attr">extended</span>: <span class="literal">true</span>&#125;));</div><div class="line">app.use(bodyParser.json());</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createJWT</span>(<span class="params">userId</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> payload = &#123;</div><div class="line">    <span class="attr">sub</span>: userId,</div><div class="line">    <span class="attr">iat</span>: moment().unix(),</div><div class="line">    <span class="attr">exp</span>: moment().add(<span class="number">14</span>, <span class="string">'days'</span>).unix()</div><div class="line">  &#125;;</div><div class="line">  <span class="keyword">return</span> jwt.encode(payload, config.TOKEN_SECRET);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Ruta para autenticación</span></div><div class="line">app.post(<span class="string">'/auth/twitter'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">  ...</div><div class="line">&#125;);</div><div class="line"><span class="comment">// Ruta para listar eventos</span></div><div class="line">app.post(<span class="string">'/events'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">  ...</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h2 id="Ruta-auth-twitter"><a href="#Ruta-auth-twitter" class="headerlink" title="Ruta /auth/twitter"></a>Ruta <em>/auth/twitter</em></h2><p>Esta ruta es la que permite al usuario autenticarse utilizando Twitter. Realiza lo siguiente:</p><ul><li><p>Inicialmente, si el usuario no estaba autenticado, hace una petición a esta ruta sin cabeceras de autorización. De ser así el backend realiza una petición a Twitter para que nos proporcione un token de autenticación para el usuario. Se devuelve al usuario ese token y Satellizer se encargará de mandarlo a la web de Twitter para que autorice a la aplicación.</p></li><li><p>Cuando el usuario da permiso a la App, Twitter lo redirige a la web que le hayamos configurado en la <em>Callback URL</em>, que debe ser esta misma ruta.</p></li><li><p>Ahora el usuario viene con un token de Twitter (entra por el <em>else</em>). El backend comprueba la validez de ese token mediante una petición a Twitter. Twitter devuelve los datos del usuario y el backend crea el token final en JSON y lo devuelve a la App.</p></li><li><p>A partir de entonces, la App tiene un token de autorización válido y lo acompañará a cada petición al backend. Este token queda almacenado en el <em>storage del navegador</em>.</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">app.post(<span class="string">'/auth/twitter'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> requestTokenUrl = <span class="string">'https://api.twitter.com/oauth/request_token'</span>;</div><div class="line">  <span class="keyword">var</span> accessTokenUrl  = <span class="string">'https://api.twitter.com/oauth/access_token'</span>;</div><div class="line">  <span class="keyword">var</span> authenticateUrl = <span class="string">'https://api.twitter.com/oauth/authenticate'</span>;</div><div class="line"></div><div class="line">  <span class="comment">// First request: no auth token present</span></div><div class="line">  <span class="keyword">if</span> (!req.body.oauth_token || !req.body.oauth_verifier) &#123;</div><div class="line">    <span class="keyword">var</span> requestTokenOauth = &#123;</div><div class="line">      <span class="attr">consumer_key</span>: config.TWITTER_KEY,</div><div class="line">      <span class="attr">consumer_secret</span>: config.TWITTER_SECRET</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="comment">// Retrieve a Twitter Token and redirect to Twitter auth page</span></div><div class="line">    request.post(&#123; <span class="attr">url</span>: requestTokenUrl, <span class="attr">oauth</span>: requestTokenOauth &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, response, body</span>) </span>&#123;</div><div class="line">      res.send(qs.parse(body));</div><div class="line">    &#125;);</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="keyword">var</span> accessTokenOauth = &#123;</div><div class="line">      <span class="attr">consumer_key</span>: config.TWITTER_KEY,</div><div class="line">      <span class="attr">consumer_secret</span>: config.TWITTER_SECRET,</div><div class="line">      <span class="attr">token</span>: req.body.oauth_token,</div><div class="line">      <span class="attr">verifier</span>: req.body.oauth_verifier</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="comment">// Check the token against Twitter and send JWT to app</span></div><div class="line">    request.post(&#123; <span class="attr">url</span>: accessTokenUrl, <span class="attr">oauth</span>: accessTokenOauth &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, response, resData</span>) </span>&#123;</div><div class="line">      <span class="comment">// Additional info from user should be retrieved here (from a local db etc.)</span></div><div class="line">      res.send(&#123; <span class="attr">token</span>: createJWT(qs.parse(resData).user_id) &#125;);</div><div class="line">    &#125;);</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h2 id="Ruta-events"><a href="#Ruta-events" class="headerlink" title="Ruta /events"></a>Ruta <em>/events</em></h2><p>Ésta ruta es muy sencilla. Simplemente comprueba que el usuario está autenticado correctamente y en ese caso devuelve una lista de eventos.</p><p>Para comprobar que está autenticado:</p><ul><li>La petición debe llevar un token de autorización.</li><li>Esta cabecera debe tener un valor válido, lo cual se comprueba con <em>jwt.decode</em>.</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">app.get(<span class="string">'/events'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line"></div><div class="line">  <span class="comment">// if not authenticated, send forbidden code</span></div><div class="line">  <span class="keyword">if</span> (!req.headers.authorization) &#123;</div><div class="line">    <span class="keyword">return</span> res.sendStatus(<span class="number">403</span>);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// check if token is valid</span></div><div class="line">  <span class="keyword">try</span> &#123;</div><div class="line">    <span class="keyword">var</span> decoded = jwt.decode(req.headers.authorization.split(<span class="string">' '</span>)[<span class="number">1</span>], config.TOKEN_SECRET);</div><div class="line">  &#125; <span class="keyword">catch</span>(err) &#123;</div><div class="line">    <span class="keyword">return</span> res.sendStatus(<span class="number">403</span>);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// If it is, send events.</span></div><div class="line">  <span class="keyword">var</span> events = [</div><div class="line">    &#123;</div><div class="line">      <span class="string">'speaker'</span>: <span class="string">'Homer Simpson'</span>,</div><div class="line">      <span class="string">'title'</span>: <span class="string">'Emprender en servicios web: Compuglobalhipermeganet'</span>,</div><div class="line">      <span class="string">'place'</span>: <span class="string">'Sala 5'</span>,</div><div class="line">      <span class="string">'date'</span>: <span class="string">'15:00'</span></div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">      <span class="string">'speaker'</span>: <span class="string">'Stewie Griffin'</span>,</div><div class="line">      <span class="string">'title'</span>: <span class="string">'Cómo generar ingresos extra siguiendo gordos con una tuba'</span>,</div><div class="line">      <span class="string">'place'</span>: <span class="string">'Salón de talleres 1'</span>,</div><div class="line">      <span class="string">'date'</span>: <span class="string">'17:00'</span></div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">      <span class="string">'speaker'</span>: <span class="string">'Ralph Wiggum'</span>,</div><div class="line">      <span class="string">'title'</span>: <span class="string">'¡Corre plátano!'</span>,</div><div class="line">      <span class="string">'place'</span>: <span class="string">'Sala 5'</span>,</div><div class="line">      <span class="string">'date'</span>: <span class="string">'19:00'</span></div><div class="line">    &#125;</div><div class="line">  ];</div><div class="line">  res.send(events);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><hr><p>¡Perfecto! <strong>Tenemos nuestro backend listo</strong>. Ahora <strong>solo nos queda modificar la App para que utilice este backend</strong> y probarla en un emulador.</p><p>Pero esto lo dejamos para el siguiente post :)</p></div></article></div><div id="footer-post-container"><div id="footer-post"><div id="nav-footer" style="display:none"><ul><li><a href="/">Home</a></li><li><a href="/archives">Writing</a></li><li><a href="/projects">Projects</a></li><li><a href="/about">About</a></li><li><a href="/contact">Contact</a></li></ul></div><div id="toc-footer" style="display:none"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Autenticacion-por-Token"><span class="toc-number">1.</span> <span class="toc-text">Autenticación por Token</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Configurar-la-autenticacion-con-Twitter"><span class="toc-number">2.</span> <span class="toc-text">Configurar la autenticación con Twitter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Codigo-del-backend"><span class="toc-number">3.</span> <span class="toc-text">Código del backend</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ruta-auth-twitter"><span class="toc-number">4.</span> <span class="toc-text">Ruta /auth/twitter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ruta-events"><span class="toc-number">5.</span> <span class="toc-text">Ruta /events</span></a></li></ol></div><div id="actions-footer"><ul><li id="toc"><a class="icon" href="#actions-footer"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li><li id="top" style="display:none"><a class="icon" href="#"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li><li id="menu"><a class="icon" href="#actions-footer"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li></ul></div></div></div><footer id="footer"><div class="footer-left">Copyright &copy; 2018 Emilio J. Grande</div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archives">Writing</a></li><li><a href="/projects">Projects</a></li><li><a href="/about">About</a></li><li><a href="/contact">Contact</a></li></ul></nav></div></footer><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/lib/meslo-LG/styles.css"><link rel="stylesheet" href="/css/style.css"><script src="/js/main.js"></script></body></html>